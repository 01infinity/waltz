<div>
    <style>
        .side-active { padding: 3px; font-weight: bold;}
        .side-inactive { padding: 3px; }
    </style>


    <waltz-login-panel></waltz-login-panel>

    <hr/>

     <span ui-view="sidenav" autoscroll="false">
            <!--
            to get content in here use something like:

                views: {
                    'sidenav@main': { template: '<h1>Hello</h1>' }
                }

            -->
    </span>

    <uib-accordion close-others="true">

        <uib-accordion-group>
            <uib-accordion-heading>
                <waltz-icon name="history"></waltz-icon> Recently Viewed
            </uib-accordion-heading>
            <ul class="list-unstyled" ng-if="ctrl.history.length > 0">
                <li class='side-inactive'
                    ui-sref-active="side-active"
                    ng-repeat="item in ctrl.history">
                    <waltz-icon class='text-muted small' name="{{item.kind | toIconName:'entity'}}"></waltz-icon>
                    <a ui-sref="{{item.state}} ({{item.stateParams}})">
                        {{item.name}}
                    </a>
                </li>
            </ul>
            <div class="text-muted" ng-if="ctrl.history.length == 0">
                No history
            </div>

            <a href class="small pull-right"
               ng-click="ctrl.refreshHistory()">
                Refresh <waltz-icon name="refresh"></waltz-icon>
            </a>
        </uib-accordion-group>

        <uib-accordion-group>
            <uib-accordion-heading>
                <waltz-icon name="wrench"></waltz-icon> Admin
            </uib-accordion-heading>
            <ul class="list-unstyled">
                <li class="side-inactive"
                    waltz-has-role="APP_EDITOR"
                    ui-sref-active="side-active">
                    <waltz-icon class='text-muted small' name="gift"></waltz-icon>
                    <a ui-sref="main.app.registration">
                        Register App
                    </a>
                </li>
                <li class="side-inactive"
                    waltz-has-role="ADMIN"
                    ui-sref-active="side-active">
                    <waltz-icon class='text-muted small' name="users"></waltz-icon>
                    <a ui-sref="main.user.management">
                        Manage Users
                    </a>
                </li>
                <li class="side-inactive"
                    waltz-has-role="ADMIN"
                    ui-sref-active="side-active">
                    <waltz-icon class='text-muted small' name="list-ul"></waltz-icon>
                    <a ui-sref="main.user.log">
                        User Logs
                    </a>
                </li>
            </ul>
        </uib-accordion-group>
    </uib-accordion>

</div>
