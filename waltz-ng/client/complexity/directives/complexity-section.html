<div>
    <waltz-section name="Application Complexity"
                   id="ouv-complexity">
        <div class="row">
            <div class="col-md-8">
                <waltz-complexity-bar-chart complexity="ctrl.complexity"
                                            sizing="{ h: 150 }"
                                            on-select="ctrl.onComplexitySelect">
                </waltz-complexity-bar-chart>
                <div class="small text-muted">
                    Histogram showing number of applications grouped by their complexity
                    rating.  Select a bar to see the applications that fall within it.
                </div>
            </div>

            <div class="col-md-4">
                <div ng-if="ctrl.complexitySelection.items.length > 0">
                    <h4>
                        {{ ctrl.complexitySelection.begin | toFixed:2 }}
                        -
                        {{ ctrl.complexitySelection.end | toFixed: 2 }}
                        <small>Complexity Band</small>
                    </h4>
                    <div class="waltz-scroll-region"
                         style="height: 140px">
                        <table class="table table-condensed small">
                            <thead>
                            <tr>
                                <th>App</th>
                                <th>Score</th>
                            </tr></thead>
                            <tr ng-repeat="item in ctrl.complexitySelection.items | orderBy:'app.name'">
                                <td>
                                    <a ui-sref="main.app-view ({id: item.app.id })">
                                        {{ item.app.name }}
                                    </a>
                                </td>
                                <td>
                                    {{ item.score | toFixed:2 }}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </waltz-section>
</div>
