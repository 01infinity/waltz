<div ng-switch="$ctrl.mode">

    <div ng-switch-when="MENU">
        <div class="row">
            <div class="col-sm-12">
                <h4>Available Options</h4>
                <div class="help-block">
                    Select an operation from the menu below.
                    Hover over each item to see a more detailed description.
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4"
                 ng-repeat="menu in $ctrl.menus">
                <!-- incl: MENU -->
                <div ng-include="'wmcc/menu.html'"></div>
            </div>
        </div>
    </div>


    <div ng-switch-when="OPERATION">
        <div class="row">
            <div class="col-sm-12">
                <h4 ng-bind="$ctrl.selectedOperation.title || $ctrl.selectedOperation.name"></h4>
                <div class="help-block"
                     ng-bind-html="$ctrl.selectedOperation.description">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <a ng-click="$ctrl.onDismiss()"
                   class="clickable">
                    Close
                </a>
            </div>
        </div>
    </div>

</div>


<!-- template: MENU -->
<script type="text/ng-template"
        id="wmcc/menu.html">
    <h5 ng-bind="menu.name"></h5>
    <ul class="list-unstyled">
        <li ng-repeat="opt in menu.options">
            <a class="clickable"
               ng-click="$ctrl.onSelectOperation(opt)"
               ng-style="{color: menu.color}">
                <waltz-icon name="{{opt.icon}}"></waltz-icon>
                <span ng-bind="opt.name"></span>
            </a>
        </li>
    </ul>
    <div class="help-block"
         ng-bind-html="menu.description">
    </div>
</script>
