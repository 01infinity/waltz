<!--
  ~ /*
  ~  * Waltz - Enterprise Architecture
  ~  * Copyright (C) 2017  Khartec Ltd.
  ~  *
  ~  * This program is free software: you can redistribute it and/or modify
  ~  * it under the terms of the GNU Lesser General Public License as published by
  ~  * the Free Software Foundation, either version 3 of the License, or
  ~  * (at your option) any later version.
  ~  *
  ~  * This program is distributed in the hope that it will be useful,
  ~  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~  * GNU Lesser General Public License for more details.
  ~  *
  ~  * You should have received a copy of the GNU Lesser General Public License
  ~  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  ~  */
  -->

<div>
    <table class="table table-condensed table-striped small">
        <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Kind</th>
            <th>Phase</th>
            <th>Start</th>
            <th>End</th>
            <th>Last Update</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="record in $ctrl.list">
            <td>
                <a ui-sref="main.change-initiative.view ({ id: record.id })">
                    <span ng-bind="record.externalId"></span>
                </a>
            </td>
            <td>
                <span ng-bind="record.name"></span>
            </td>
            <td>
                <span ng-bind="record.kind | toDisplayName:'changeInitiative' "></span>
            </td>
            <td>
                <span ng-bind="record.lifecyclePhase | toDisplayName:'lifecyclePhase' "></span>
            </td>
            <td>
                <span ng-bind="record.startDate"></span>
            </td>
            <td>
                <span ng-bind="record.endDate"></span>
            </td>
            <td>
                <span>
                    <waltz-from-now timestamp="record.lastUpdate"
                                    days-only="true">
                    </waltz-from-now>
                </span>
            </td>
            <td>
                <span ng-bind-html="record.description | limitTo:50"></span>
            </td>
        </tr>
        </tbody>
    </table>
</div>