<!-- ng-href is used here so that the links get updated when entityRef changes -->
<!-- eg: when used in a ui-grid cell template -->
<a ng-if="$ctrl.viewState"
   ng-href="{{ $ctrl.viewUrl }}">

    <waltz-entity-icon-label entity-ref="$ctrl.entityRef"
                             icon-placement="$ctrl.iconPlacement"
                             tooltip-placement="$ctrl.tooltipPlacement">
    </waltz-entity-icon-label>
</a>

<waltz-entity-icon-label entity-ref="$ctrl.entityRef"
                         icon-placement="$ctrl.iconPlacement"
                         tooltip-placement="$ctrl.tooltipPlacement"
                         ng-if="!$ctrl.viewState">
</waltz-entity-icon-label>