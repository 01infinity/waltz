<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Lesser General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
<style>
    .licence-list-grid .waltz-grid {
        height: 600px;
    }
</style>

<waltz-page-header name="Licence Management"
                   small="List"
                   icon="id-card-o">

    <ol class="waltz-breadcrumbs">
        <li>
            <a ui-sref="main">
                Home
            </a>
        </li>
        <li>Licence Management</li>
    </ol>
</waltz-page-header>


<div class="row">
    <div class="col-md-12">
        <div class="waltz-page-summary waltz-page-summary-attach">
            <blockquote>
                This is the list of licences that are applicable to applications based on
                their usage of software components and libraries either open or closed source.

                The approval status of a licence is a confirmation of it's suitability for use within
                the organisation.  Applications that use unapproved licences may be a risk unless previously exempted.
            </blockquote>

            <waltz-grid-with-search class="licence-list-grid"
                                    entries="$ctrl.licences"
                                    column-defs="$ctrl.columnDefs"
                                    on-initialise="$ctrl.onGridInitialised">
            </waltz-grid-with-search>

            <br>
            <a ng-click="$ctrl.exportLicences()"
               class="clickable pull-right"
               ng-if="$ctrl.licences.length > 0">
                <waltz-icon name="cloud-download"></waltz-icon>
                Export
            </a>
            <br>

        </div>
    </div>
</div>


<script type="text/ng-template"
        id="wrl-r-popover.html">
    <div class="small">
        <strong ng-bind="licence.name"></strong>
        <hr>
        <waltz-markdown text="licence.description"></waltz-markdown>
    </div>
</script>


<script type="text/ng-template"
        id="wrl-s-popover.html">
    <div class="small">
        <strong ng-bind="s.name"></strong>
        <hr>
        <waltz-markdown text="s.description"></waltz-markdown>
    </div>
</script>
