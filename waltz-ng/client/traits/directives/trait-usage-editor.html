<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div ng-if="ctrl.availableTraits.length > 0">
                <label>
                    Register New Trait:
                </label>
                <div class="row">
                    <div class="col-sm-8">
                        <select class="form-control"
                                ng-options="option.name for option in ctrl.availableTraits track by option.id"
                                ng-model="ctrl.selectedTrait">
                        </select>
                    </div>
                    <dv class="col-sm-2">
                        <button ng-click="ctrl.add(ctrl.selectedTrait)"
                                class="btn btn-sm btn-primary"
                                ng-disabled="!ctrl.selectedTrait">
                            <waltz-icon name="plus"></waltz-icon>
                            Add
                        </button>
                    </dv>
                </div>
            </div>

            <div ng-if="ctrl.availableTraits.length == 0">
                <div class="alert alert-info"
                     ng-if="ctrl.usedTraits.length > 0">
                    <waltz-icon name="info-circle"></waltz-icon>
                    <strong>No more</strong> traits available for registering.
                </div>
                <div class="alert alert-warning"
                     ng-if="ctrl.usedTraits.length == 0">
                    <waltz-icon name="warning"></waltz-icon>
                    Traits cannot be mapped as <strong>none</strong> have been defined in the system.
                </div>
            </div>

        </div>
    </div>

    <hr>

    <div class="row" ng-if="ctrl.usedTraits.length > 0">
        <div class="col-md-12">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Trait</th>
                    <th>Description</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="trait in ctrl.usedTraits | orderBy:'name'"
                    class="waltz-visibility-parent">
                    <td>
                        <waltz-icon name="{{ trait.icon }}"></waltz-icon>
                        {{ trait.name }}
                    </td>
                    <td>
                        {{ trait.description }}
                    </td>
                    <td>
                        <span class="waltz-visibility-child-30">
                            <a ng-click="ctrl.remove(trait)"
                               class="clickable">
                                <waltz-icon name='trash'></waltz-icon>
                                Remove
                            </a>
                        </span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <waltz-no-data ng-if="ctrl.usedTraits.length == 0 && ctrl.availableTraits.length > 0">
        <message>
            <strong>No traits</strong> registered
        </message>
    </waltz-no-data>

</div>
