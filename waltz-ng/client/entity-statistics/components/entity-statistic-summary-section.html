<div>
    <waltz-section name="{{ $ctrl.name }}"
                   icon="pie-chart"
                   id="entity-statistics-section">

        <div class="row"
             ng-if="$ctrl.definitions.length > 0">
            <div class="col-md-4">
                <treecontrol class="tree-light"
                             order-by="'-name'"
                             tree-model="$ctrl.definitionTree"
                             on-selection="$ctrl.onDefinitionSelection(node)">
                    <span ng-bind="node.name"></span>
                </treecontrol>

                <hr>

                <div class="small text-muted waltz-paragraph">
                    Various indicators are collected for applications.
                    Use the tree control above to select one.  Click on it's
                    'explore' link to see more about that indicator.
                </div>
            </div>

            <div class="col-md-8">
                <div ng-if="$ctrl.activeSummary == null && ! $ctrl.loading">
                    <div class="alert alert-info">
                        <waltz-icon size="lg"
                                    name="info">
                        </waltz-icon>

                        <span style="padding-left: 24px">
                            Select an <strong>indicator</strong>
                            from the tree on the left to see
                            details.
                        </span>
                    </div>


                </div>
                <div ng-if="$ctrl.activeSummary != null && $ctrl.loading"
                     style="height: 230px">
                </div>
                <div ng-if="$ctrl.activeSummary != null && ! $ctrl.loading">
                    <waltz-entity-statistic-summary-card summary="$ctrl.activeSummary"
                                                         definition="$ctrl.activeDefinition"
                                                         parent-ref="$ctrl.parentRef"
                                                         sub-title="{{$ctrl.activeDefinition.category | toDisplayName:'entityStatistic'}}">
                    </waltz-entity-statistic-summary-card>
                </div>
            </div>
        </div>

        <div class="row"
             ng-if="$ctrl.definitions.length == 0">
            <div class="col-md-12">
                <div class="alert alert-warning">
                    <strong>
                        No Indicators
                    </strong>
                </div>
            </div>
        </div>
    </waltz-section>
</div>
