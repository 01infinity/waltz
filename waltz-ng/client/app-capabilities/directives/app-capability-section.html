<div>
    <waltz-section name="Capabilities"
                   icon="puzzle-piece">

        <waltz-section-actions>
            <a waltz-has-role="APP_EDITOR"
               ui-sref='main.app-capability.edit ({id: ctrl.selfId})'
               class="btn btn-xs btn-primary">
                Edit
            </a>
            <button class="btn btn-xs waltz-btn-transparent"
                    ng-click="ctrl.visibility.overlay = ! ctrl.visibility.overlay">
                <waltz-icon name="map-signs"></waltz-icon>
            </button>
        </waltz-section-actions>

        <waltz-source-data-overlay visible="ctrl.visibility.overlay"
                                   ratings="ctrl.sourceDataRatings"
                                   entities="['APP_CAPABILITY']">
        </waltz-source-data-overlay>

        <div class="row">
            <div class="col-sm-12" style="border-left: 1px solid #eee">

                <!-- CAPABILITIES -->

                <h4>Capabilities</h4>
                <div ng-if="ctrl.appCapabilities.length > 0">
                    <waltz-app-capability-table app-capabilities="ctrl.appCapabilities"
                                                capabilities="ctrl.capabilities">
                    </waltz-app-capability-table>
                </div>

                <div ng-if="ctrl.appCapabilities.length == 0">
                    <div class="alert alert-warning">
                        <strong>No capabilities</strong>
                        have been registered against this application yet.
                    </div>
                </div>

                <div class="small text-muted">
                    Capabilities are used to describe what an application does.
                </div>
            </div>
        </div>

    </waltz-section>
</div>
