<div>

    <style>
        .pop {
            position: absolute;
            border: 1px solid #ccc;
            border-radius: 3px;
            padding: 4px 12px 8px 12px;
            min-width: 40%;
            left: 40px;
            top: 30px;
            z-index: 1000;
            background-color: rgba(245, 245, 245, 0.8);
        }

        .dim svg {
            background-color: #fafafa;
            filter: blur(0.8px);
        }
    </style>


    <waltz-section name="Diagram Editor">


        <div class="row">
            <div class="col-sm-12">
                <div class="pop waltz-fade-if"
                     ng-if="ctrl.visibility.popup">
                    <h4 ng-bind="ctrl.popup.title"></h4>
                    <p ng-bind="ctrl.popup.description"></p>
                    <ul>
                        <li ng-repeat="option in ctrl.popup.options | orderBy: 'entity.name'">
                            <a ng-click="ctrl.issueCommands(option.commands)"
                               class='clickable'>
                                <waltz-entity-icon-label entity-ref="option.entity"></waltz-entity-icon-label>
                            </a>
                        </li>
                    </ul>

                    <hr>

                    <a class='clickable'
                       ng-click="ctrl.onDismissMenu()">
                        Cancel
                    </a>
                </div>

                <div ng-class="{ 'dim' : ctrl.visibility.popup }">
                    <waltz-flow-diagram nodes="ctrl.nodes"
                                        flows="ctrl.flows"
                                        layout="ctrl.layout"
                                        on-initialise="ctrl.onDiagramInit"
                                        context-menus="ctrl.contextMenus">
                    </waltz-flow-diagram>

                </div>
            </div>
        </div>

    </waltz-section>



</div>
