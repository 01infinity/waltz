<!--
  ~  Waltz
  ~ Copyright (c) David Watkins. All rights reserved.
  ~ The use and distribution terms for this software are covered by the
  ~ Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)
  ~ which can be found in the file epl-v10.html at the root of this distribution.
  ~ By using this software in any fashion, you are agreeing to be bound by
  ~ the terms of this license.
  ~ You must not remove this notice, or any other, from this software.
  ~
  -->

<div>



    <waltz-page-header name="Ratings">
        <ol class="waltz-breadcrumbs">
            <li><a ui-sref="main">Home</a></li>
            <li><a ui-sref="main.app.view ({id: ctrl.app.id})">{{ ctrl.app.name }}</a></li>
            <li>Business Ratings</li>
            <li>Editor</li>
        </ol>
    </waltz-page-header>

    <style>
        .option {
            display: inline-block;
            border: 1px solid #888;
            border-radius: 4px;
            padding: 6px 12px 6px 12px;
            opacity: 0.5;
            text-decoration: none;
            margin: 4px;
        }

        .option:hover, .option:visited, .option:link, .option:active {
            text-decoration: none;
        }

        .option.chosen {
            opacity: 1;
            border: 3px solid #999;
        }


    </style>

    <waltz-section name="{{ctrl.highestRatingCount}}">

        <div class='row' >
            <div class="col-md-2">
                <label class="align">Selected rating</label>
            </div>

            <div class="col-md-10">
                <waltz-rating-brush-select selected="ctrl.selectedRating"
                                           on-select="ctrl.selectRating"></waltz-rating-brush-select>
            </div>
        </div>

        <hr>

        <waltz-rating-group-header measurables="ctrl.group.measurables"></waltz-rating-group-header>
        <waltz-rating-group tweakers="ctrl.tweakers"
                            highest-rating-count="ctrl.highestRatingCount"
                            data="ctrl.group"></waltz-rating-group>

        <hr>

        <div class="pull-right" style="padding-right: 50px">
            <button class="btn btn-success"
                    ng-disabled="ctrl.changedRatings.length == 0"
                    ng-click="ctrl.submit()">
                Submit
            </button>

            <a ui-sref="main.app.view ({id: ctrl.app.id})">Cancel</a>

            <br>

            <span ng-show="ctrl.changedRatings.length > 0" class="small text-muted">
                ( {{ ctrl.changedRatings.length }} change/s -
                <a href ng-click="ctrl.revertAll()">Revert</a>)
            </span>

        </div>


    </waltz-section>

</div>
