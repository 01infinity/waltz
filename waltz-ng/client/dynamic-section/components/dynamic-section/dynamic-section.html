<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Lesser General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div>
    <div class="waltz-dynamic-section-header">

        <div class="waltz-visibility-parent waltz-dynamic-section-header-title">
            <span class="waltz-visibility-child-30 clickable"
                  ng-click="$ctrl.onRemove($ctrl.section)"
                  ng-if="$ctrl.onRemove"
                  title="Close">
                <waltz-icon name="times">
                </waltz-icon>
            </span>
            <span ng-if="$ctrl.onRemove == null">
                <waltz-icon fixed-width="true"></waltz-icon>
            </span>

            <span waltz-has-role="ADMIN"
                  class="waltz-visibility-child-30">
                <a class="no-text-select"
                   ui-sref="embed.internal ({kind: $ctrl.parentEntityRef.kind, id: $ctrl.parentEntityRef.id, sectionId: $ctrl.section.id })">
                    <waltz-icon name="bug" title="Embed section (admin only)"></waltz-icon>
                </a>
            </span>

            <span>
                <waltz-icon name="{{ $ctrl.section.icon }}"></waltz-icon>
                <span ng-bind="$ctrl.section.name"></span>
            </span>
        </div>
    </div>

    <div class="container-fluid waltz-dynamic-section-body">
        <ng-transclude></ng-transclude>
    </div>

</div>
