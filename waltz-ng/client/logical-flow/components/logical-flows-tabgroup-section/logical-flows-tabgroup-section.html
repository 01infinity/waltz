<div>
    <waltz-section name="Logical Data Flows"
                   icon="random"
                   id="logical-flows-section">

        <waltz-section-actions>
            <a class="btn btn-xs btn-primary"
               ng-click="$ctrl.export()"
               ng-if="$ctrl.visibility.exportButton">
                <waltz-icon name="cloud-download"></waltz-icon>
                Export
            </a>
            <button class="btn btn-xs waltz-btn-transparent"
                    ng-click="$ctrl.visibility.sourcesOverlay = ! $ctrl.visibility.sourcesOverlay">
                <waltz-icon name="map-signs"></waltz-icon>
            </button>
        </waltz-section-actions>

        <waltz-source-data-overlay visible="$ctrl.visibility.sourcesOverlay"
                                   entities="['LOGICAL_DATA_FLOW']">
        </waltz-source-data-overlay>

        <div ng-if="$ctrl.hasFlows">
            <waltz-logical-flows-tabgroup flow-data="$ctrl.flowData"
                                          on-load-detail="$ctrl.onLoadDetail"
                                          applications="$ctrl.applications"
                                          options="$ctrl.flowOptions"
                                          options-visible="$ctrl.visibility.flowConfigOverlay"
                                          on-tab-change="$ctrl.tabChanged"
                                          on-table-initialise="$ctrl.tableInitialised">
            </waltz-logical-flows-tabgroup>
        </div>
        <div ng-if="!$ctrl.hasFlows">
            <waltz-no-data>
                <message>
                    <strong>No related flows found.</strong>
                </message>
            </waltz-no-data>

        </div>
    </waltz-section>
</div>